(()=>{"use strict";var e=function(e,t){"Escape"===e.key&&n(t)},t=function(t){t.classList.add("popup_is-opened"),overlay.classList.add("overlay-opened"),t.classList.add("popup_is-animated"),document.addEventListener("keydown",(function(n){return e(n,t)}))},n=function(t){t.classList.remove("popup_is-opened"),overlay.classList.remove("overlay-opened"),document.removeEventListener("keydown",(function(n){return e(n,t)}))},r=function(e){e.preventDefault();var t=popupNewCard.querySelector(".popup__input_type_card-name"),n=popupNewCard.querySelector(".popup__input_type_url"),r=t.value,a=n.value,d=o({name:r,link:a},c,p);cardsContainer.prepend(d),closeModal(popupNewCard)},o=function(e,t,n){var r=e.name,o=e.link,c=document.querySelector("#card-template").content.querySelector(".places__item").cloneNode(!0),p=c.querySelector(".card__image"),a=c.querySelector(".card__title");return p.src=o,p.alt=r,a.textContent=r,c.querySelector(".card__delete-button").addEventListener("click",t),c.querySelector(".card__like-button").addEventListener("click",(function(e){return n(e)})),p.addEventListener("click",(function(){openPopupImage(r,o)})),c},c=function(e){e.target.closest(".places__item").remove()},p=function(e){e.target.classList.toggle("card__like-button_is-active")},a=document.querySelector(".overlay"),d=document.querySelector(".popup_type_edit"),u=document.querySelector(".profile__edit-button"),i=document.querySelector(".popup__input_type_name"),s=document.querySelector(".popup__input_type_description"),l=document.querySelector(".profile__title"),_=document.querySelector(".profile__description"),m=document.querySelector(".popup_type_new-card"),y=document.querySelector(".profile__add-button"),v=document.querySelector(".places__list"),f=document.querySelector(".popup_type_image"),k=function(e){e.querySelector(".popup__close").addEventListener("click",(function(){n(e)})),a.addEventListener("mousedown",(function(t){t.target.classList.contains("overlay")&&n(e)})),e===m?e.addEventListener("submit",r):e===d&&e.addEventListener("submit",q)};k(d),k(m),k(f),u.addEventListener("click",(function(e){e.target===u&&(i.value=document.querySelector(".profile__title").textContent,s.value=document.querySelector(".profile__description").textContent,t(d))})),y.addEventListener("click",(function(e){e.target===y&&t(m)}));var q=function(e){e.preventDefault();var t=i.value,r=s.value;l.textContent=t,_.textContent=r,n(d)};[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var t=o(e,c,p);v.append(t)}))})();